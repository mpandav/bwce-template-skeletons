<process-dir height="415" id="soap.GetFileAttachmentService" name="soap.GetFileAttachmentService" type="process" width="929" x="140" y="20">
    <partnerLinks>
        <partner-link id="GetFileAttachmentPortType" myRole="use" name="GetFileAttachmentPortType" partnerLinkType="partnerLinkType" partnerType="bw.soap"/>
    </partnerLinks>
    <ProcessInfo createdBy="mpandav" createdOn="Tue Nov 14 21:32:31 CET 2023" description="" modifiedBy="" modifiedOn="" modifiers="public" productVersion="2.8.3 V39 2023-08-01" scalable="false" singleton="true" stateless="true" type="IT"/>
    <customer-activity img="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" type="bw.generalactivities.callprocess"/>
    <pick collapse="false" createInstance="true" height="330" id="2a25b49c-d7b4-4a0b-968d-4827718e732e" name="pick" type="pick" width="457" x="76" y="44">
        <on-message height="195" id="a1ff77eb-9523-4691-a3b7-4fa7cf5a7a1b" input="true" operation="getFileAttachment" output="true" partner-link="GetFileAttachmentPortType" portType="GetFileAttachmentPortType" type="onMessage" variable="getFileAttachment" width="439" x="9" y="11">
            <link-dir id="263e77cf-0806-448f-929e-62d10f66b2e0" label="" linkType="SUCCESS" name="OnMessageStartToLogStart" points="[[1,71],[48,71],[48,77],[96,77]]" source="02b8460b-a853-464b-aed5-42965ffbf0d0" target="34aa7205-c128-4ecd-ad2a-b2b9cfa7dd74"/>
            <activity-dir height="16" id="02b8460b-a853-464b-aed5-42965ffbf0d0" name="OnMessageStart" type="onMessageStart" width="16" x="-19" y="63"/>
            <link-dir id="18b84ec0-57a1-4d58-abf2-a7048c56723e" label="" linkType="SUCCESS" name="getFileAttachmentOutToLogReply" points="[[485,77],[611,77]]" source="7924ec68-bfa4-420e-99ba-608dd40240d9" target="d5f6d597-24c0-4a00-b638-0dc50110c5f2"/>
            <activity-dir height="48" id="7924ec68-bfa4-420e-99ba-608dd40240d9" name="getFileAttachmentOut" operation="getFileAttachment" partnerLink="GetFileAttachmentPortType" portType="GetFileAttachmentPortType" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getFileAttachmentOut-input" width="48" x="436" y="53">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.com/interface/attachments&quot; xmlns:tns1=&quot;http://www.example.com/namespaces/tns/1699990752353&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getFile&quot;/&gt;&lt;xsl:template name=&quot;getFileAttachmentOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getFileAttachmentSoapOut&gt;&lt;fileMetaData&gt;&lt;xsl:value-of select=&quot;$getFile/tns1:metadata&quot;/&gt;&lt;/fileMetaData&gt;&lt;fileContents&gt;&lt;xsl:value-of select=&quot;$getFile/tns1:binaryData&quot;/&gt;&lt;/fileContents&gt;&lt;/tns:getFileAttachmentSoapOut&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.com/interface/attachments&quot; xmlns:tns1=&quot;http://www.example.com/namespaces/tns/1699990752353&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getFile&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getFileAttachmentOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;fileMetaData&gt;&#10;            &lt;xsl:value-of select=&quot;$getFile/tns1:metadata&quot;/&gt;&#10;        &lt;/fileMetaData&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="3319d195-cac2-4f5f-903f-a129a1660b50" label="" linkType="SUCCESS" name="getFileTogetFileAttachmentOut" points="[[312,77],[436,77]]" source="b91cd4e4-d6d0-48c6-b1e1-16b810e64bbe" target="7924ec68-bfa4-420e-99ba-608dd40240d9"/>
            <activity-dir height="48" id="b91cd4e4-d6d0-48c6-b1e1-16b810e64bbe" name="getFile" type="bw.generalactivities.callprocess" width="48" x="263" y="53">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns1=&quot;http://www.example.com/namespaces/tns/1699990752353&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getFileAttachment&quot;/&gt;&lt;xsl:template name=&quot;getFile-input&quot; match=&quot;/&quot;&gt;&lt;tns1:GetFileParameters&gt;&lt;tns1:FileName&gt;&lt;xsl:value-of select=&quot;$getFileAttachment/fileName&quot;/&gt;&lt;/tns1:FileName&gt;&lt;/tns1:GetFileParameters&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns1=&quot;http://www.example.com/namespaces/tns/1699990752353&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getFileAttachment.fileName&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getFile-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:GetFileParameters&gt;&#10;            &lt;tns1:FileName&gt;&#10;                &lt;xsl:value-of select=&quot;$getFileAttachment.fileName&quot;/&gt;&#10;            &lt;/tns1:FileName&gt;&#10;        &lt;/tns1:GetFileParameters&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="ea154606-ec5a-4bdd-be2c-94bf0c72bef3" label="" linkType="SUCCESS" name="LogStartTogetFile" points="[[145,77],[263,77]]" source="34aa7205-c128-4ecd-ad2a-b2b9cfa7dd74" target="b91cd4e4-d6d0-48c6-b1e1-16b810e64bbe"/>
            <activity-dir height="48" id="34aa7205-c128-4ecd-ad2a-b2b9cfa7dd74" name="LogStart" type="bw.generalactivities.log" width="48" x="96" y="53">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getFileAttachment&quot;/&gt;&lt;xsl:param name=&quot;bucketName&quot;/&gt;&lt;xsl:template name=&quot;LogStart-input&quot; match=&quot;/&quot;&gt;&lt;tns2:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot; #### SOAP API: Downloading File : &amp;quot;,$getFileAttachment/fileName, &amp;quot; from S3 Bucket : &amp;quot;,$bucketName )&quot;/&gt;&lt;/message&gt;&lt;/tns2:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getFileAttachment.fileName&quot;/&gt;&#10;    &lt;xsl:param name=&quot;bucketName&quot;/&gt;&#10;    &lt;xsl:template name=&quot;LogStart-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns2:ActivityInput&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat(&amp;quot; #### SOAP API: Downloading File : &amp;quot;,$getFileAttachment.fileName, &amp;quot; from S3 Bucket : &amp;quot;,$bucketName )&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns2:ActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                            <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="48" id="d5f6d597-24c0-4a00-b638-0dc50110c5f2" name="LogReply" type="bw.generalactivities.log" width="48" x="611" y="53">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getFileAttachment&quot;/&gt;&lt;xsl:template name=&quot;LogReply-input&quot; match=&quot;/&quot;&gt;&lt;tns2:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot; #### SOAP API:  Successfully Downloaded file : &amp;quot;,$getFileAttachment/fileName, &amp;quot;  and Sent as a SOAP Attachment...&amp;quot;)&quot;/&gt;&lt;/message&gt;&lt;/tns2:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getFileAttachment.fileName&quot;/&gt;&#10;    &lt;xsl:template name=&quot;LogReply-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns2:ActivityInput&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat(&amp;quot; #### SOAP API:  Successfully Downloaded file : &amp;quot;,$getFileAttachment.fileName, &amp;quot;  and Sent as a SOAP Attachment...&amp;quot;)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns2:ActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                            <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <catch-all faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="179" id="bc3dbc06-ec28-4129-a228-a2027ea4b96e" type="catchAll" width="338" x="42" y="184">
                <activity-dir height="48" id="baceca75-5f98-49c2-996b-502d7f02bb48" name="Reply" operation="getFileAttachment" partnerLink="GetFileAttachmentPortType" portType="GetFileAttachmentPortType" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply-input" width="48" x="158" y="41">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns3=&quot;http://schemas.tibco.com/bw/plugins/basic/6.0/faults&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns3:UndeclaredFault&gt;&#10;            &lt;tns3:message&gt;&#10;                &lt;xsl:value-of select=&quot;&amp;quot;Internal Server Error&amp;quot;&quot;/&gt;&#10;            &lt;/tns3:message&gt;&#10;        &lt;/tns3:UndeclaredFault&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns3=&quot;http://schemas.tibco.com/bw/plugins/basic/6.0/faults&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns3:UndeclaredFault&gt;&#10;            &lt;tns3:message&gt;&#10;                &lt;xsl:value-of select=&quot;&amp;quot;Internal Server Error&amp;quot;&quot;/&gt;&#10;            &lt;/tns3:message&gt;&#10;        &lt;/tns3:UndeclaredFault&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                </activity-dir>
            </catch-all>
            <activity-dir height="16" id="158dbe03-a6c3-4abb-9712-15178ad04a7e" name="OnMessageEnd" type="onMessageEnd" width="16" x="437" y="63"/>
        </on-message>
    </pick>
</process-dir>
