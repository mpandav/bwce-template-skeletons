<process-dir height="376" id="rest.File-Download-API" name="rest.File-Download-API" type="process" width="1061" x="140" y="20">
    <partnerLinks>
        <partner-link id="files" myRole="use" name="files" partnerLinkType="partnerLinkType" partnerType="bw.rest"/>
    </partnerLinks>
    <ProcessInfo createdBy="mpandav" createdOn="Thu Nov 16 15:10:04 CET 2023" description="" modifiedBy="" modifiedOn="" modifiers="public" productVersion="2.8.3 V39 2023-08-01" scalable="false" singleton="true" stateless="true" type="IT"/>
    <customer-activity img="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" type="bw.generalactivities.callprocess"/>
    <pick collapse="false" createInstance="true" height="299" id="0c91bfee-c094-4ffa-99bf-58c5f62f7bc2" name="pick" type="pick" width="457" x="76" y="44">
        <on-message height="179" id="87f96d90-47cd-4cc1-89ce-602c92d1cecb" input="true" operation="get" output="true" partner-link="files" portType="files" type="onMessage" variable="get" width="439" x="9" y="11">
            <link-dir id="88c64c20-c8a0-4409-b1e0-abd8bc51e43d" label="" linkType="SUCCESS" name="OnMessageStartToLogStart" points="[[1,71],[38,71],[38,72],[75,72]]" source="8196f1c5-ce8f-46b0-baa4-61d5b6c25fec" target="fe800ee9-eb74-4efa-ab9e-bc56faff91dd"/>
            <activity-dir height="16" id="8196f1c5-ce8f-46b0-baa4-61d5b6c25fec" name="OnMessageStart" type="onMessageStart" width="16" x="-19" y="63"/>
            <link-dir id="5b9d59e3-c27b-4bff-92d4-89d2921b3d0e" label="" linkType="SUCCESS" name="getOutToLogReply" points="[[454,72],[614,72]]" source="e4b88054-3987-4e53-897f-1e55382ee68a" target="276f4ffd-1d5a-4248-afbe-0c91476636ba"/>
            <activity-dir height="48" id="e4b88054-3987-4e53-897f-1e55382ee68a" name="getOut" operation="get" partnerLink="files" portType="files" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="getOut-input" width="48" x="405" y="48">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20231116151004PLT&quot; xmlns:tns2=&quot;/T1700143829778Converted/JsonSchema&quot; xmlns:tns3=&quot;http://www.example.com/namespaces/tns/1699990752353&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;getFile&quot;/&gt;&lt;xsl:template name=&quot;getOut-input&quot; match=&quot;/&quot;&gt;&lt;tns:getResponse&gt;&lt;item&gt;&lt;tns2:File&gt;&lt;xsl:value-of select=&quot;$getFile/tns3:binaryData&quot;/&gt;&lt;/tns2:File&gt;&lt;/item&gt;&lt;/tns:getResponse&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20231116151004PLT&quot; xmlns:tns2=&quot;/T1700143829778Converted/JsonSchema&quot; xmlns:tns3=&quot;http://www.example.com/namespaces/tns/1699990752353&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;getFile&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getOut-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns2:File&gt;&#10;            &lt;xsl:value-of select=&quot;$getFile/tns3:binaryData&quot;/&gt;&#10;        &lt;/tns2:File&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="8105d5eb-4e6d-42be-89eb-29a35c29a29d" label="" linkType="SUCCESS" name="getFileTogetOut" points="[[302,72],[405,72]]" source="a13652a7-0309-46c8-8213-a05e8fa1fd1c" target="e4b88054-3987-4e53-897f-1e55382ee68a"/>
            <activity-dir height="48" id="a13652a7-0309-46c8-8213-a05e8fa1fd1c" name="getFile" type="bw.generalactivities.callprocess" width="48" x="253" y="48">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns5=&quot;http://xmlns.example.com/Files-FileName/parameters&quot; xmlns:tns3=&quot;http://www.example.com/namespaces/tns/1699990752353&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;get&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getFile-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns3:GetFileParameters&gt;&#10;            &lt;tns3:FileName&gt;&#10;                &lt;xsl:value-of select=&quot;$get/parameters/tns5:filesGetParameters/tns5:FileName&quot;/&gt;&#10;            &lt;/tns3:FileName&gt;&#10;        &lt;/tns3:GetFileParameters&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns5=&quot;http://xmlns.example.com/Files-FileName/parameters&quot; xmlns:tns3=&quot;http://www.example.com/namespaces/tns/1699990752353&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;get.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;getFile-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns3:GetFileParameters&gt;&#10;            &lt;tns3:FileName&gt;&#10;                &lt;xsl:value-of select=&quot;$get.parameters/tns5:FileName&quot;/&gt;&#10;            &lt;/tns3:FileName&gt;&#10;        &lt;/tns3:GetFileParameters&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
            </activity-dir>
            <link-dir id="fd2612b9-7ae5-406e-99b2-66d544483f47" label="" linkType="SUCCESS" name="LogStartTogetFile" points="[[124,72],[253,72]]" source="fe800ee9-eb74-4efa-ab9e-bc56faff91dd" target="a13652a7-0309-46c8-8213-a05e8fa1fd1c"/>
            <activity-dir height="48" id="fe800ee9-eb74-4efa-ab9e-bc56faff91dd" name="LogStart" type="bw.generalactivities.log" width="48" x="75" y="48">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns5=&quot;http://xmlns.example.com/Files-FileName/parameters&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;get&quot;/&gt;&lt;xsl:param name=&quot;bucketName&quot;/&gt;&lt;xsl:template name=&quot;LogStart-input&quot; match=&quot;/&quot;&gt;&lt;tns4:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot; #### ReST API: Downloading File : &amp;quot;,$get/parameters/tns5:filesGetParameters/tns5:FileName, &amp;quot; from S3 Bucket : &amp;quot;,$bucketName)&quot;/&gt;&lt;/message&gt;&lt;/tns4:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns5=&quot;http://xmlns.example.com/Files-FileName/parameters&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;get.parameters&quot;/&gt;&#10;    &lt;xsl:param name=&quot;bucketName&quot;/&gt;&#10;    &lt;xsl:template name=&quot;LogStart-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns4:ActivityInput&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat(&amp;quot; #### ReST API: Downloading File : &amp;quot;,$get.parameters/tns5:FileName, &amp;quot; from S3 Bucket : &amp;quot;,$bucketName)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns4:ActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                            <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <activity-dir height="48" id="276f4ffd-1d5a-4248-afbe-0c91476636ba" name="LogReply" type="bw.generalactivities.log" width="48" x="614" y="48">
                <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns5=&quot;http://xmlns.example.com/Files-FileName/parameters&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;get&quot;/&gt;&lt;xsl:template name=&quot;LogReply-input&quot; match=&quot;/&quot;&gt;&lt;tns4:ActivityInput&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot; #### ReST API: Successfully Downloaded file : &amp;quot;,$get/parameters/tns5:filesGetParameters/tns5:FileName, &amp;quot;,  Response Sent...&amp;quot;)&quot;/&gt;&lt;/message&gt;&lt;/tns4:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns4=&quot;http://www.tibco.com/pe/WriteToLogActivitySchema&quot; xmlns:tns5=&quot;http://xmlns.example.com/Files-FileName/parameters&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:param name=&quot;get.parameters&quot;/&gt;&#10;    &lt;xsl:template name=&quot;LogReply-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns4:ActivityInput&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;concat(&amp;quot; #### ReST API: Successfully Downloaded file : &amp;quot;,$get.parameters/tns5:FileName, &amp;quot;,  Response Sent...&amp;quot;)&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns4:ActivityInput&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                <BWActivity activityTypeID="bw.generalactivities.log" version="6.0.0.001">
                    <activityConfig>
                        <properties name="config" type="activityconfig:EMFProperty">
                            <type href="http://ns.tibco.com/bw/palette/generalactivities#//Log"/>
                            <value role="Info" suppressJobInfo="true" type="generalactivities:Log"/>
                        </properties>
                    </activityConfig>
                </BWActivity>
            </activity-dir>
            <catch-all faultDetailsVar="FaultDetails" faultNameVar="FaultName" height="177" id="6a408f26-01e0-4694-8f61-a71f28541d47" type="catchAll" width="338" x="42" y="168">
                <activity-dir height="48" id="288087e3-93cf-43b1-8af8-378911d8b2b1" name="Reply" operation="get" partnerLink="files" portType="files" type="com.tibco.bw.core.design.process.editor.Activity_4002_Reply" variable="Reply-input" width="48" x="305" y="17">
                    <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20231116151004PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; version=&quot;2.0&quot;&gt;&lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&lt;tns:get5XXFaultMessage&gt;&lt;serverError&gt;&lt;tns1:server5XXError&gt;&lt;statusCode&gt;&lt;xsl:value-of select=&quot;500&quot;/&gt;&lt;/statusCode&gt;&lt;message&gt;&lt;xsl:value-of select=&quot;&amp;quot;Internal Server Error&amp;quot;&quot;/&gt;&lt;/message&gt;&lt;/tns1:server5XXError&gt;&lt;/serverError&gt;&lt;/tns:get5XXFaultMessage&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
                    <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://xmlns.example.com/20231116151004PLT&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/REST&quot; version=&quot;2.0&quot;&gt;&#10;    &lt;xsl:template name=&quot;Reply-input&quot; match=&quot;/&quot;&gt;&#10;        &lt;tns1:server5XXError&gt;&#10;            &lt;statusCode&gt;&#10;                &lt;xsl:value-of select=&quot;500&quot;/&gt;&#10;            &lt;/statusCode&gt;&#10;            &lt;message&gt;&#10;                &lt;xsl:value-of select=&quot;&amp;quot;Internal Server Error&amp;quot;&quot;/&gt;&#10;            &lt;/message&gt;&#10;        &lt;/tns1:server5XXError&gt;&#10;    &lt;/xsl:template&gt;&#10;&lt;/xsl:stylesheet&gt;"/>
                </activity-dir>
            </catch-all>
            <activity-dir height="16" id="64f77bcb-eba6-4954-84bb-4cfd8fb7adc7" name="OnMessageEnd" type="onMessageEnd" width="16" x="437" y="63"/>
        </on-message>
    </pick>
</process-dir>
